<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Assets Approval Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;700&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
        }
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #1877f2;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const CONFIG = {
            SHEET_ID: '1OQxNLz4IuwsVOSVBTOyvZK-a_9mog81Cns5XGZYBFXU',
            API_KEY: 'AIzaSyABznAS0fH0tYNh6wlS_iEL08b6znNJCL8',
            AD_COPIES_SHEET: 'Ads Masterlist',
            CREATIVE_ASSETS_SHEET: 'Creative Assets',
            CLIENT_INFO_SHEET: 'Client Info',
            APPS_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbynP-7NA6OgMENqgH8HE4BR_VuP1lxf7syPOB_avUX570Sm2Ci2a4LELJUN9ukA9-QT/exec',

            // Ads Masterlist Columns
            COPIES_COLUMNS: {
                STATUS: 0,              // Column A
                COPY_ID: 1,             // Column B - Ad Name
                CAMPAIGN_NAME: 2,       // Column C - Campaign Angle
                HEADLINE: 3,            // Column D
                AD_COPY_TEXT: 4,        // Column E - Ad Copy (Body)
                NOTES: 9,               // Column J - Client Note
                LAST_UPDATED: 10        // Column K - Updated Date
            },

            // Creative Assets Columns
            ASSETS_COLUMNS: {
                ASSET_ID: 0,          // Column A
                COPY_ID: 1,           // Column B - Ad Name
                ASSET_NAME: 2,        // Column C
                ASSET_URL: 4,         // Column E - Direct URL (converted)
                ASSET_TYPE: 5,        // Column F
                STATUS: 6,            // Column G
                FEEDBACK_NOTES: 7     // Column H
            },

            CLIENT_COLUMNS: {
                CLIENT_ID: 0,
                BUSINESS_NAME: 1,
                WEBSITE_URL: 2,
                DESTINATION_URL: 3,
                PROFILE_IMAGE: 4
            }
        };

        const CreativeAssetCard = ({ asset, updating, onStatusUpdate, editNotes, onNotesChange }) => {
            const [mediaError, setMediaError] = useState(false);
            const isVideo = asset.assetType?.toLowerCase() === 'video';

            const getStatusColor = (status) => {
                switch(status?.toLowerCase()) {
                    case 'approved': return '#10b981';
                    case 'needs edit': return '#f59e0b';
                    case 'rejected': return '#ef4444';
                    default: return '#6b7280';
                }
            };

            const getStatusIcon = (status) => {
                switch(status?.toLowerCase()) {
                    case 'approved': return '‚úì';
                    case 'needs edit': return '‚úèÔ∏è';
                    case 'rejected': return '‚úó';
                    default: return '‚è≥';
                }
            };

            const isPending = !asset.status || asset.status.toLowerCase() === 'pending';

            return (
                <div style={{
                    backgroundColor: 'white',
                    borderRadius: '8px',
                    overflow: 'hidden',
                    border: `2px solid ${getStatusColor(asset.status)}`,
                    position: 'relative'
                }}>
                    <div style={{
                        position: 'absolute',
                        top: '8px',
                        right: '8px',
                        backgroundColor: getStatusColor(asset.status),
                        color: 'white',
                        padding: '4px 12px',
                        borderRadius: '12px',
                        fontSize: '12px',
                        fontWeight: '600',
                        zIndex: 10,
                        textTransform: 'uppercase',
                        letterSpacing: '0.5px'
                    }}>
                        {getStatusIcon(asset.status)} {asset.status || 'Pending'}
                    </div>

                    <div style={{
                        width: '100%',
                        height: '280px',
                        backgroundColor: '#f0f2f5',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        position: 'relative'
                    }}>
                        {asset.assetUrl && !mediaError ? (
                            isVideo ? (
                                <video
                                    src={asset.assetUrl}
                                    controls
                                    style={{
                                        width: '100%',
                                        height: '100%',
                                        objectFit: 'contain'
                                    }}
                                    onError={() => setMediaError(true)}
                                />
                            ) : (
                                <img
                                    src={asset.assetUrl}
                                    alt={asset.assetName}
                                    style={{
                                        width: '100%',
                                        height: '100%',
                                        objectFit: 'contain'
                                    }}
                                    onError={() => setMediaError(true)}
                                />
                            )
                        ) : asset.assetUrl && mediaError ? (
                            <div style={{ textAlign: 'center', padding: '20px', color: '#ef4444' }}>
                                <div style={{ fontSize: '14px', fontWeight: '500', marginBottom: '8px' }}>
                                    Failed to load {asset.assetType?.toLowerCase() || 'media'}
                                </div>
                                <a
                                    href={asset.assetUrl}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    style={{ fontSize: '12px', color: '#1877f2', textDecoration: 'underline' }}
                                >
                                    Open link directly
                                </a>
                            </div>
                        ) : (
                            <div style={{ textAlign: 'center', color: '#65676b' }}>
                                <div style={{ fontSize: '48px', marginBottom: '8px' }}>
                                    {isVideo ? 'üé•' : 'üì∑'}
                                </div>
                                <div style={{ fontSize: '14px' }}>No media</div>
                            </div>
                        )}
                    </div>

                    <div style={{ padding: '12px' }}>
                        <div style={{
                            fontSize: '14px',
                            fontWeight: '600',
                            color: '#050505',
                            marginBottom: '4px'
                        }}>
                            {asset.assetName || 'Unnamed Asset'}
                        </div>
                        <div style={{
                            fontSize: '12px',
                            color: '#65676b',
                            marginBottom: '12px'
                        }}>
                            {asset.assetType || 'Unknown'}
                        </div>

                        {isPending ? (
                            <textarea
                                placeholder="Add feedback notes (optional)..."
                                value={editNotes[asset.rowIndex] || ''}
                                onChange={(e) => onNotesChange(asset.rowIndex, e.target.value)}
                                disabled={updating[asset.rowIndex]}
                                style={{
                                    width: '100%',
                                    minHeight: '60px',
                                    padding: '8px',
                                    borderRadius: '6px',
                                    border: '1px solid #e4e6eb',
                                    fontSize: '13px',
                                    fontFamily: 'inherit',
                                    resize: 'vertical',
                                    marginBottom: '8px',
                                    opacity: updating[asset.rowIndex] ? 0.5 : 1
                                }}
                            />
                        ) : asset.feedbackNotes && (
                            <div style={{
                                backgroundColor: '#fffbeb',
                                padding: '8px',
                                borderRadius: '6px',
                                marginBottom: '8px',
                                border: '1px solid #fbbf24'
                            }}>
                                <div style={{
                                    fontSize: '11px',
                                    fontWeight: '600',
                                    color: '#92400e',
                                    marginBottom: '4px',
                                    textTransform: 'uppercase'
                                }}>
                                    üìù Feedback:
                                </div>
                                <div style={{
                                    fontSize: '13px',
                                    color: '#78350f',
                                    whiteSpace: 'pre-wrap',
                                    lineHeight: '1.4'
                                }}>
                                    {asset.feedbackNotes}
                                </div>
                            </div>
                        )}

                        {isPending ? (
                            <div style={{
                                display: 'grid',
                                gridTemplateColumns: '1fr 1fr 1fr',
                                gap: '6px'
                            }}>
                                {[
                                    { label: '‚úì', status: 'Approved', color: '#10b981' },
                                    { label: '‚úèÔ∏è', status: 'Needs Edit', color: '#f59e0b' },
                                    { label: '‚úó', status: 'Rejected', color: '#ef4444' }
                                ].map((btn, idx) => (
                                    <button
                                        key={idx}
                                        onClick={() => onStatusUpdate(asset, btn.status)}
                                        disabled={updating[asset.rowIndex]}
                                        style={{
                                            padding: '8px',
                                            backgroundColor: updating[asset.rowIndex] ? '#ccc' : btn.color,
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '6px',
                                            fontSize: '16px',
                                            fontWeight: '600',
                                            cursor: updating[asset.rowIndex] ? 'not-allowed' : 'pointer',
                                            transition: 'opacity 0.2s'
                                        }}
                                        onMouseOver={(e) => { if (!updating[asset.rowIndex]) e.target.style.opacity = '0.9'; }}
                                        onMouseOut={(e) => { e.target.style.opacity = '1'; }}
                                    >
                                        {updating[asset.rowIndex] ? '‚è≥' : btn.label}
                                    </button>
                                ))}
                            </div>
                        ) : (
                            <button
                                onClick={() => onStatusUpdate(asset, 'Pending')}
                                disabled={updating[asset.rowIndex]}
                                style={{
                                    width: '100%',
                                    padding: '8px',
                                    backgroundColor: updating[asset.rowIndex] ? '#ccc' : '#6b7280',
                                    color: 'white',
                                    border: 'none',
                                    borderRadius: '6px',
                                    fontSize: '13px',
                                    fontWeight: '600',
                                    cursor: updating[asset.rowIndex] ? 'not-allowed' : 'pointer'
                                }}
                            >
                                {updating[asset.rowIndex] ? '‚è≥ Reverting...' : '‚Ü©Ô∏è Reset to Pending'}
                            </button>
                        )}
                    </div>
                </div>
            );
        };

        const AdCopyCard = ({ copy, creatives, updating, onStatusUpdate, editNotes, onNotesChange }) => {
            return (
                <div style={{
                    backgroundColor: 'white',
                    borderRadius: '12px',
                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',
                    overflow: 'hidden',
                    marginBottom: '24px'
                }}>
                    <div style={{
                        padding: '20px',
                        backgroundColor: '#f8f9fa',
                        borderBottom: '2px solid #e4e6eb'
                    }}>
                        <div style={{
                            fontSize: '12px',
                            fontWeight: '600',
                            color: '#1877f2',
                            textTransform: 'uppercase',
                            letterSpacing: '0.5px',
                            marginBottom: '8px'
                        }}>
                            üìä {copy.campaignName || 'Campaign'}
                        </div>
                        {copy.headline && (
                            <div style={{
                                fontSize: '18px',
                                fontWeight: '700',
                                color: '#050505',
                                marginBottom: '8px',
                                lineHeight: '1.3'
                            }}>
                                {copy.headline}
                            </div>
                        )}
                        {copy.adCopyText && (
                            <div style={{
                                fontSize: '14px',
                                color: '#050505',
                                lineHeight: '1.5',
                                whiteSpace: 'pre-wrap'
                            }}>
                                {copy.adCopyText}
                            </div>
                        )}
                    </div>

                    <div style={{ padding: '20px' }}>
                        <div style={{
                            fontSize: '14px',
                            fontWeight: '600',
                            color: '#050505',
                            marginBottom: '16px'
                        }}>
                            Creative Assets ({creatives.length})
                        </div>
                        {creatives.length > 0 ? (
                            <div style={{
                                display: 'grid',
                                gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',
                                gap: '16px'
                            }}>
                                {creatives.map((asset) => (
                                    <CreativeAssetCard
                                        key={asset.rowIndex}
                                        asset={asset}
                                        updating={updating}
                                        onStatusUpdate={onStatusUpdate}
                                        editNotes={editNotes}
                                        onNotesChange={onNotesChange}
                                    />
                                ))}
                            </div>
                        ) : (
                            <div style={{
                                textAlign: 'center',
                                padding: '40px',
                                color: '#65676b',
                                backgroundColor: '#f0f2f5',
                                borderRadius: '8px'
                            }}>
                                <div style={{ fontSize: '32px', marginBottom: '8px' }}>üì≠</div>
                                <div>No creative assets yet</div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const CreativeApprovalPortal = () => {
            const [adCopies, setAdCopies] = useState([]);
            const [creativeAssets, setCreativeAssets] = useState([]);
            const [clientInfo, setClientInfo] = useState(null);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [editNotes, setEditNotes] = useState({});
            const [updating, setUpdating] = useState({});
            const [activeFilter, setActiveFilter] = useState('all');

            useEffect(() => {
                fetchData();
            }, []);

            const fetchData = async () => {
                try {
                    setLoading(true);
                    setError(null);

                    const [copiesResponse, assetsResponse, clientResponse] = await Promise.all([
                        fetch(`https://sheets.googleapis.com/v4/spreadsheets/${CONFIG.SHEET_ID}/values/${CONFIG.AD_COPIES_SHEET}?key=${CONFIG.API_KEY}`),
                        fetch(`https://sheets.googleapis.com/v4/spreadsheets/${CONFIG.SHEET_ID}/values/${CONFIG.CREATIVE_ASSETS_SHEET}?key=${CONFIG.API_KEY}`),
                        fetch(`https://sheets.googleapis.com/v4/spreadsheets/${CONFIG.SHEET_ID}/values/${CONFIG.CLIENT_INFO_SHEET}?key=${CONFIG.API_KEY}`)
                    ]);

                    if (!copiesResponse.ok || !assetsResponse.ok || !clientResponse.ok) {
                        throw new Error('Failed to fetch data from Google Sheets');
                    }

                    const copiesData = await copiesResponse.json();
                    const assetsData = await assetsResponse.json();
                    const clientData = await clientResponse.json();

                    let extractedClientInfo = {
                        businessName: '', websiteUrl: '', destinationUrl: '', profileImage: ''
                    };

                    if (clientData.values && clientData.values.length > 1) {
                        const clientRow = clientData.values[1];
                        extractedClientInfo = {
                            businessName: clientRow[CONFIG.CLIENT_COLUMNS.BUSINESS_NAME] || '',
                            websiteUrl: clientRow[CONFIG.CLIENT_COLUMNS.WEBSITE_URL] || '',
                            destinationUrl: clientRow[CONFIG.CLIENT_COLUMNS.DESTINATION_URL] || '',
                            profileImage: clientRow[CONFIG.CLIENT_COLUMNS.PROFILE_IMAGE] || ''
                        };
                    }
                    setClientInfo(extractedClientInfo);

                    if (copiesData.values && copiesData.values.length > 1) {
                        const copies = copiesData.values.slice(1)
                            .map((row, index) => ({
                                rowIndex: index + 2,
                                copyId: row[CONFIG.COPIES_COLUMNS.COPY_ID] || '',
                                campaignName: row[CONFIG.COPIES_COLUMNS.CAMPAIGN_NAME] || '',
                                adCopyText: row[CONFIG.COPIES_COLUMNS.AD_COPY_TEXT] || '',
                                headline: row[CONFIG.COPIES_COLUMNS.HEADLINE] || '',
                                notes: row[CONFIG.COPIES_COLUMNS.NOTES] || ''
                            }))
                            .filter(copy => copy.copyId); // Only show ads with names

                        setAdCopies(copies);
                    }

                    if (assetsData.values && assetsData.values.length > 1) {
                        const assets = assetsData.values.slice(1).map((row, index) => ({
                            rowIndex: index + 2,
                            assetId: row[CONFIG.ASSETS_COLUMNS.ASSET_ID] || '',
                            copyId: row[CONFIG.ASSETS_COLUMNS.COPY_ID] || '',
                            assetName: row[CONFIG.ASSETS_COLUMNS.ASSET_NAME] || '',
                            assetUrl: row[CONFIG.ASSETS_COLUMNS.ASSET_URL] || '',
                            assetType: row[CONFIG.ASSETS_COLUMNS.ASSET_TYPE] || 'Image',
                            status: row[CONFIG.ASSETS_COLUMNS.STATUS] || 'Pending',
                            feedbackNotes: row[CONFIG.ASSETS_COLUMNS.FEEDBACK_NOTES] || ''
                        }));

                        setCreativeAssets(assets);
                    }

                    setLoading(false);
                } catch (err) {
                    console.error('Error:', err);
                    setError(err.message);
                    setLoading(false);
                }
            };

            const updateAssetStatus = async (asset, newStatus) => {
                const notes = editNotes[asset.rowIndex] || '';
                setUpdating(prev => ({ ...prev, [asset.rowIndex]: true }));

                try {
                    await fetch(CONFIG.APPS_SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            action: 'updateAsset',
                            rowIndex: asset.rowIndex,
                            status: newStatus,
                            feedbackNotes: notes
                        })
                    });

                    setCreativeAssets(prev =>
                        prev.map(a =>
                            a.rowIndex === asset.rowIndex
                                ? { ...a, status: newStatus, feedbackNotes: notes }
                                : a
                        )
                    );

                    setEditNotes(prev => {
                        const updated = { ...prev };
                        delete updated[asset.rowIndex];
                        return updated;
                    });

                    showNotification(`‚úì Creative ${newStatus.toLowerCase()}!`, 'success');
                } catch (err) {
                    showNotification('‚úó Failed to update', 'error');
                } finally {
                    setUpdating(prev => {
                        const updated = { ...prev };
                        delete updated[asset.rowIndex];
                        return updated;
                    });
                }
            };

            const handleNotesChange = (rowIndex, value) => {
                setEditNotes(prev => ({ ...prev, [rowIndex]: value }));
            };

            const showNotification = (message, type) => {
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed; top: 20px; right: 20px; padding: 16px 24px;
                    background-color: ${type === 'success' ? '#10b981' : '#ef4444'};
                    color: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 9999; animation: slideIn 0.3s ease-out;
                `;
                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease-in';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            };

            const getFilteredCopies = () => {
                if (activeFilter === 'all') return adCopies;

                return adCopies.filter(copy => {
                    const copyCreatives = creativeAssets.filter(asset => asset.copyId === copy.copyId);
                    if (copyCreatives.length === 0) return false;

                    return copyCreatives.some(asset =>
                        asset.status?.toLowerCase() === activeFilter
                    );
                });
            };

            const getStats = () => {
                const total = creativeAssets.length;
                const pending = creativeAssets.filter(a => !a.status || a.status.toLowerCase() === 'pending').length;
                const approved = creativeAssets.filter(a => a.status?.toLowerCase() === 'approved').length;
                const needsEdit = creativeAssets.filter(a => a.status?.toLowerCase() === 'needs edit').length;
                const rejected = creativeAssets.filter(a => a.status?.toLowerCase() === 'rejected').length;

                return { total, pending, approved, needsEdit, rejected };
            };

            if (loading) {
                return (
                    <div style={{
                        display: 'flex', justifyContent: 'center', alignItems: 'center',
                        minHeight: '100vh', flexDirection: 'column', gap: '20px'
                    }}>
                        <div className="spinner"></div>
                        <div style={{ fontSize: '18px', color: '#666' }}>Loading creative assets...</div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div style={{
                        display: 'flex', justifyContent: 'center', alignItems: 'center',
                        minHeight: '100vh', padding: '20px'
                    }}>
                        <div style={{
                            textAlign: 'center', maxWidth: '600px', backgroundColor: 'white',
                            padding: '40px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)'
                        }}>
                            <div style={{ fontSize: '48px', marginBottom: '16px' }}>‚ö†Ô∏è</div>
                            <h2 style={{ fontSize: '24px', marginBottom: '16px', color: '#ef4444' }}>
                                Connection Error
                            </h2>
                            <div style={{ color: '#666', lineHeight: '1.6' }}>{error}</div>
                        </div>
                    </div>
                );
            }

            const stats = getStats();
            const filteredCopies = getFilteredCopies();

            return (
                <div style={{ minHeight: '100vh', backgroundColor: '#f0f2f5', padding: '20px' }}>
                    <div style={{ maxWidth: '1400px', margin: '0 auto' }}>
                        <div style={{
                            marginBottom: '20px',
                            padding: '20px',
                            backgroundColor: 'white',
                            borderRadius: '12px',
                            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center',
                            flexWrap: 'wrap',
                            gap: '12px'
                        }}>
                            <div>
                                <h1 style={{ fontSize: '28px', fontWeight: '700', color: '#050505', marginBottom: '4px' }}>
                                    üé® Creative Assets Approval
                                </h1>
                                <p style={{ fontSize: '14px', color: '#65676b' }}>
                                    {clientInfo?.businessName || 'Client'}
                                </p>
                            </div>
                            <button
                                onClick={() => window.location.reload()}
                                style={{
                                    padding: '10px 20px',
                                    backgroundColor: '#1877f2',
                                    color: 'white',
                                    border: 'none',
                                    borderRadius: '6px',
                                    fontSize: '14px',
                                    fontWeight: '600',
                                    cursor: 'pointer'
                                }}
                            >
                                üîÑ Refresh
                            </button>
                        </div>

                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))',
                            gap: '12px',
                            marginBottom: '20px'
                        }}>
                            {[
                                { count: stats.total, label: 'Total', color: '#6b7280' },
                                { count: stats.pending, label: 'Pending', color: '#1877f2' },
                                { count: stats.approved, label: 'Approved', color: '#10b981' },
                                { count: stats.needsEdit, label: 'Needs Edit', color: '#f59e0b' },
                                { count: stats.rejected, label: 'Rejected', color: '#ef4444' }
                            ].map((stat, idx) => (
                                <div key={idx} style={{
                                    backgroundColor: 'white',
                                    padding: '16px',
                                    borderRadius: '8px',
                                    boxShadow: '0 1px 3px rgba(0,0,0,0.1)',
                                    textAlign: 'center'
                                }}>
                                    <div style={{ fontSize: '32px', fontWeight: '700', color: stat.color }}>
                                        {stat.count}
                                    </div>
                                    <div style={{ fontSize: '13px', color: '#65676b', marginTop: '4px' }}>
                                        {stat.label}
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div style={{ display: 'flex', gap: '8px', marginBottom: '20px', flexWrap: 'wrap' }}>
                            {[
                                { id: 'all', label: 'All' },
                                { id: 'pending', label: 'Pending' },
                                { id: 'approved', label: 'Approved' },
                                { id: 'needs edit', label: 'Needs Edit' },
                                { id: 'rejected', label: 'Rejected' }
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveFilter(tab.id)}
                                    style={{
                                        padding: '10px 20px',
                                        backgroundColor: activeFilter === tab.id ? '#1877f2' : 'white',
                                        color: activeFilter === tab.id ? 'white' : '#65676b',
                                        border: 'none',
                                        borderRadius: '8px',
                                        fontSize: '14px',
                                        fontWeight: '600',
                                        cursor: 'pointer',
                                        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'
                                    }}
                                >
                                    {tab.label}
                                </button>
                            ))}
                        </div>

                        {filteredCopies.length === 0 ? (
                            <div style={{
                                backgroundColor: 'white',
                                borderRadius: '12px',
                                padding: '60px 20px',
                                textAlign: 'center',
                                boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
                            }}>
                                <div style={{ fontSize: '48px', marginBottom: '16px' }}>üì≠</div>
                                <div style={{ fontSize: '20px', fontWeight: '600', color: '#050505' }}>
                                    No campaigns found
                                </div>
                                <div style={{ fontSize: '14px', color: '#65676b', marginTop: '8px' }}>
                                    Add creative assets to your sheet
                                </div>
                            </div>
                        ) : (
                            filteredCopies.map((copy) => {
                                const copyCreatives = creativeAssets.filter(asset => asset.copyId === copy.copyId);
                                return (
                                    <AdCopyCard
                                        key={copy.rowIndex}
                                        copy={copy}
                                        creatives={copyCreatives}
                                        updating={updating}
                                        onStatusUpdate={updateAssetStatus}
                                        editNotes={editNotes}
                                        onNotesChange={handleNotesChange}
                                    />
                                );
                            })
                        )}
                    </div>

                    <style>
                        {`
                            @keyframes slideIn {
                                from { transform: translateX(400px); opacity: 0; }
                                to { transform: translateX(0); opacity: 1; }
                            }
                            @keyframes slideOut {
                                from { transform: translateX(0); opacity: 1; }
                                to { transform: translateX(400px); opacity: 0; }
                            }
                            @media (max-width: 768px) {
                                div[style*="gridTemplateColumns"] {
                                    grid-template-columns: 1fr !important;
                                }
                            }
                        `}
                    </style>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CreativeApprovalPortal />);
    </script>
</body>
</html>
